import{J as ot,S as Ge,i as Ze,s as He,k as O,q as $,a as V,l as I,m as D,r as F,h as _,c as B,n as u,K as U,b as oe,C as f,L as jn,M as se,u as xt,N as En,O as Xn,D as ke,P as gt,p as de,Q as vn,R as it,T as Dn,U as wn,V as yn,v as bn,f as Tn,g as De,d as be,y as Ye,z as qe,A as je,B as Xe,W as Kn,X as On,e as st,Y as W,Z as z,E as Jn,F as Qn,G as er,H as tr,w as nr}from"../chunks/index.9aab08e9.js";import{w as We}from"../chunks/index.a27fe0c9.js";function rr(t){const e=t-1;return e*e*e+1}function In(t,{from:e,to:n},r={}){const o=getComputedStyle(t),i=o.transform==="none"?"":o.transform,[s,l]=o.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*s/n.width-(n.left+s),d=e.top+e.height*l/n.height-(n.top+l),{delay:a=0,duration:h=p=>Math.sqrt(p)*120,easing:g=rr}=r;return{delay:a,duration:ot(h)?h(Math.sqrt(c*c+d*d)):h,easing:g,css:(p,E)=>{const m=E*c,v=E*d,w=p+E*e.width/n.width,y=p+E*e.height/n.height;return`transform: ${i} translate(${m}px, ${v}px) scale(${w}, ${y});`}}}const or="finalize",ir="consider";function Fe(t,e,n){t.dispatchEvent(new CustomEvent(or,{detail:{items:e,info:n}}))}function Ae(t,e,n){t.dispatchEvent(new CustomEvent(ir,{detail:{items:e,info:n}}))}const pt="draggedEntered",et="draggedLeft",mt="draggedOverIndex",Mt="draggedLeftDocument",lt={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function sr(t,e,n){t.dispatchEvent(new CustomEvent(pt,{detail:{indexObj:e,draggedEl:n}}))}function lr(t,e,n){t.dispatchEvent(new CustomEvent(et,{detail:{draggedEl:e,type:lt.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function ar(t,e){t.dispatchEvent(new CustomEvent(et,{detail:{draggedEl:e,type:lt.OUTSIDE_OF_ANY}}))}function cr(t,e,n){t.dispatchEvent(new CustomEvent(mt,{detail:{indexObj:e,draggedEl:n}}))}function dr(t){window.dispatchEvent(new CustomEvent(Mt,{detail:{draggedEl:t}}))}const ie={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:pt,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:mt,DRAGGED_LEFT:et,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},le={POINTER:"pointer",KEYBOARD:"keyboard"},_t="isDndShadowItem",$t="data-is-dnd-shadow-item",Ft="id:dnd-shadow-placeholder-0000",ur="dnd-action-dragged-el";let Q="id",At=0;function An(){At++}function Cn(){if(At===0)throw new Error("Bug! trying to decrement when there are no dropzones");At--}const Vt=typeof window>"u";function Rn(t){let e;const n=t.getBoundingClientRect(),r=getComputedStyle(t),o=r.transform;if(o){let i,s,l,c;if(o.startsWith("matrix3d("))e=o.slice(9,-1).split(/, /),i=+e[0],s=+e[5],l=+e[12],c=+e[13];else if(o.startsWith("matrix("))e=o.slice(7,-1).split(/, /),i=+e[0],s=+e[3],l=+e[4],c=+e[5];else return n;const d=r.transformOrigin,a=n.x-l-(1-i)*parseFloat(d),h=n.y-c-(1-s)*parseFloat(d.slice(d.indexOf(" ")+1)),g=i?n.width/i:t.offsetWidth,p=s?n.height/s:t.offsetHeight;return{x:a,y:h,width:g,height:p,top:h,right:a+g,bottom:h+p,left:a}}else return n}function Nn(t){const e=Rn(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function Bt(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function Ln(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function fr(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Gt(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function Ke(t){return Ln(Bt(t))}function Xt(t,e){const n=Ke(t),r=Nn(e);return Gt(n,r)}function hr(t,e){const n=Ke(t),r=Ke(e);return fr(n,r)}function gr(t){const e=Bt(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function pr(t,e){const n=Bt(e);return Gt(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}let Le;function Zt(){Le=new Map}Zt();function mr(t){Le.delete(t)}function _r(t){const e=Array.from(t.children).findIndex(n=>n.getAttribute($t));if(e>=0)return Le.has(t)||Le.set(t,new Map),Le.get(t).set(e,Nn(t.children[e])),e}function Er(t,e){if(!Xt(t,e))return null;const n=e.children;if(n.length===0)return{index:0,isProximityBased:!0};const r=_r(e);for(let s=0;s<n.length;s++)if(Xt(t,n[s])){const l=Le.has(e)&&Le.get(e).get(s);return l&&!Gt(Ke(t),l)?{index:r,isProximityBased:!1}:{index:s,isProximityBased:!1}}let o=Number.MAX_VALUE,i;for(let s=0;s<n.length;s++){const l=hr(t,n[s]);l<o&&(o=l,i=s)}return{index:i,isProximityBased:!0}}const Ue=25;function Sn(){let t;function e(){t={directionObj:void 0,stepPx:0}}e();function n(i){const{directionObj:s,stepPx:l}=t;s&&(i.scrollBy(s.x*l,s.y*l),window.requestAnimationFrame(()=>n(i)))}function r(i){return Ue-i}function o(i,s){if(!s)return!1;const l=pr(i,s);if(l===null)return e(),!1;const c=!!t.directionObj;let[d,a]=[!1,!1];return s.scrollHeight>s.clientHeight&&(l.bottom<Ue?(d=!0,t.directionObj={x:0,y:1},t.stepPx=r(l.bottom)):l.top<Ue&&(d=!0,t.directionObj={x:0,y:-1},t.stepPx=r(l.top)),!c&&d)||s.scrollWidth>s.clientWidth&&(l.right<Ue?(a=!0,t.directionObj={x:1,y:0},t.stepPx=r(l.right)):l.left<Ue&&(a=!0,t.directionObj={x:-1,y:0},t.stepPx=r(l.left)),!c&&a)?(n(s),!0):(e(),!1)}return{scrollIfNeeded:o,resetScrolling:e}}function Ot(t){return JSON.stringify(t,null,2)}function Kt(t){if(!t)throw new Error("cannot get depth of a falsy node");return kn(t,0)}function kn(t,e=0){return t.parentElement?kn(t.parentElement,e+1):e-1}function vr(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}function Dr(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const wr=200,Jt=10,{scrollIfNeeded:yr,resetScrolling:br}=Sn();let Ct;function Tr(t,e,n=wr){let r,o,i=!1,s;const l=Array.from(e).sort((d,a)=>Kt(a)-Kt(d));function c(){const d=Ke(t),a=yr(d,r);if(!a&&s&&Math.abs(s.x-d.x)<Jt&&Math.abs(s.y-d.y)<Jt){Ct=window.setTimeout(c,n);return}if(gr(t)){dr(t);return}s=d;let h=!1;for(const g of l){a&&mr(r);const p=Er(t,g);if(p===null)continue;const{index:E}=p;h=!0,g!==r?(r&&lr(r,t,g),sr(g,p,t),r=g):E!==o&&(cr(g,p,t),o=E);break}!h&&i&&r?(ar(r,t),r=void 0,o=void 0,i=!1):i=!0,Ct=window.setTimeout(c,n)}c()}function Or(){clearTimeout(Ct),br(),Zt()}const Ir=300;let at;function ct(t){const e=t.touches?t.touches[0]:t;at={x:e.clientX,y:e.clientY}}const{scrollIfNeeded:Ar,resetScrolling:Cr}=Sn();let Pn;function xn(){at&&Ar(at,document.documentElement)&&Zt(),Pn=window.setTimeout(xn,Ir)}function Rr(){window.addEventListener("mousemove",ct),window.addEventListener("touchmove",ct),xn()}function Nr(){window.removeEventListener("mousemove",ct),window.removeEventListener("touchmove",ct),at=void 0,window.clearTimeout(Pn),Cr()}function Lr(t){const e=t.cloneNode(!0),n=[],r=t.tagName==="SELECT",o=r?[t]:[...t.querySelectorAll("select")];for(const s of o)n.push(s.value);if(o.length<=0)return e;const i=r?[e]:[...e.querySelectorAll("select")];for(let s=0;s<i.length;s++){const l=i[s],c=n[s],d=l.querySelector(`option[value="${c}"`);d&&d.setAttribute("selected",!0)}return e}const Sr=.2;function Ce(t){return`${t} ${Sr}s ease`}function kr(t,e){const n=t.getBoundingClientRect(),r=Lr(t);Mn(t,r),r.id=ur,r.style.position="fixed";let o=n.top,i=n.left;if(r.style.top=`${o}px`,r.style.left=`${i}px`,e){const s=Ln(n);o-=s.y-e.y,i-=s.x-e.x,window.setTimeout(()=>{r.style.top=`${o}px`,r.style.left=`${i}px`},0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transition=`${Ce("top")}, ${Ce("left")}, ${Ce("background-color")}, ${Ce("opacity")}, ${Ce("color")} `,window.setTimeout(()=>r.style.transition+=`, ${Ce("width")}, ${Ce("height")}`,0),r.style.zIndex="9999",r.style.cursor="grabbing",r}function Pr(t){t.style.cursor="grab"}function xr(t,e,n,r){Mn(e,t);const o=e.getBoundingClientRect(),i=t.getBoundingClientRect(),s=o.width-i.width,l=o.height-i.height;if(s||l){const c={left:(n-i.left)/i.width,top:(r-i.top)/i.height};t.style.height=`${o.height}px`,t.style.width=`${o.width}px`,t.style.left=`${parseFloat(t.style.left)-c.left*s}px`,t.style.top=`${parseFloat(t.style.top)-c.top*l}px`}}function Mn(t,e){const n=window.getComputedStyle(t);Array.from(n).filter(r=>r.startsWith("background")||r.startsWith("padding")||r.startsWith("font")||r.startsWith("text")||r.startsWith("align")||r.startsWith("justify")||r.startsWith("display")||r.startsWith("flex")||r.startsWith("border")||r==="opacity"||r==="color"||r==="list-style-type").forEach(r=>e.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r)))}function Mr(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function $n(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function $r(t){t.style.visibility="hidden",t.setAttribute($t,"true")}function Fr(t){t.style.visibility="",t.removeAttribute($t)}function nt(t,e=()=>{},n=()=>[]){t.forEach(r=>{const o=e(r);Object.keys(o).forEach(i=>{r.style[i]=o[i]}),n(r).forEach(i=>r.classList.add(i))})}function dt(t,e=()=>{},n=()=>[]){t.forEach(r=>{const o=e(r);Object.keys(o).forEach(i=>{r.style[i]=""}),n(r).forEach(i=>r.classList.contains(i)&&r.classList.remove(i))})}function Vr(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}const Br="--any--",Gr=100,Qt=3,en={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let ye,te,ue,Et,j,vt,Ve,ce,Oe,he,Ne=!1,Ht=!1,Wt,tt=!1,rt=[];const me=new Map,q=new Map,It=new WeakMap;function Zr(t,e){me.has(e)||me.set(e,new Set),me.get(e).has(t)||(me.get(e).add(t),An())}function tn(t,e){me.get(e).delete(t),Cn(),me.get(e).size===0&&me.delete(e)}function Hr(){Rr();const t=me.get(Et);for(const n of t)n.addEventListener(pt,Fn),n.addEventListener(et,Vn),n.addEventListener(mt,Bn);window.addEventListener(Mt,Be);const e=Math.max(Gr,...Array.from(t.keys()).map(n=>q.get(n).dropAnimationDurationMs));Tr(te,t,e*1.07)}function Wr(){Nr();const t=me.get(Et);for(const e of t)e.removeEventListener(pt,Fn),e.removeEventListener(et,Vn),e.removeEventListener(mt,Bn);window.removeEventListener(Mt,Be),Or()}function zr(t){return t.findIndex(e=>e[Q]===Ft)}function Dt(t){return t.findIndex(e=>!!e[_t]&&e[Q]!==Ft)}function Fn(t){let{items:e,dropFromOthersDisabled:n}=q.get(t.currentTarget);if(n&&t.currentTarget!==j)return;if(tt=!1,e=e.filter(s=>s[Q]!==Ve[Q]),j!==t.currentTarget){const l=q.get(j).items.filter(c=>!c[_t]);Ae(j,l,{trigger:ie.DRAGGED_ENTERED_ANOTHER,id:ue[Q],source:le.POINTER})}else{const s=zr(e);s!==-1&&e.splice(s,1)}const{index:r,isProximityBased:o}=t.detail.indexObj,i=o&&r===t.currentTarget.children.length-1?r+1:r;ce=t.currentTarget,e.splice(i,0,Ve),Ae(t.currentTarget,e,{trigger:ie.DRAGGED_ENTERED,id:ue[Q],source:le.POINTER})}function Vn(t){if(!Ne)return;const{items:e,dropFromOthersDisabled:n}=q.get(t.currentTarget);if(n&&t.currentTarget!==j&&t.currentTarget!==ce)return;const r=Dt(e),o=e.splice(r,1)[0];ce=void 0;const{type:i,theOtherDz:s}=t.detail;if(i===lt.OUTSIDE_OF_ANY||i===lt.LEFT_FOR_ANOTHER&&s!==j&&q.get(s).dropFromOthersDisabled){tt=!0,ce=j;const l=q.get(j).items;l.splice(vt,0,o),Ae(j,l,{trigger:ie.DRAGGED_LEFT_ALL,id:ue[Q],source:le.POINTER})}Ae(t.currentTarget,e,{trigger:ie.DRAGGED_LEFT,id:ue[Q],source:le.POINTER})}function Bn(t){const{items:e,dropFromOthersDisabled:n}=q.get(t.currentTarget);if(n&&t.currentTarget!==j)return;tt=!1;const{index:r}=t.detail.indexObj,o=Dt(e);e.splice(o,1),e.splice(r,0,Ve),Ae(t.currentTarget,e,{trigger:ie.DRAGGED_OVER_INDEX,id:ue[Q],source:le.POINTER})}function ut(t){t.preventDefault();const e=t.touches?t.touches[0]:t;he={x:e.clientX,y:e.clientY},te.style.transform=`translate3d(${he.x-Oe.x}px, ${he.y-Oe.y}px, 0)`}function Be(){Ht=!0,window.removeEventListener("mousemove",ut),window.removeEventListener("touchmove",ut),window.removeEventListener("mouseup",Be),window.removeEventListener("touchend",Be),Wr(),Pr(te),ce||(ce=j);let{items:t,type:e}=q.get(ce);dt(me.get(e),o=>q.get(o).dropTargetStyle,o=>q.get(o).dropTargetClasses);let n=Dt(t);n===-1&&(n=vt),t=t.map(o=>o[_t]?ue:o);function r(){Wt(),Fe(ce,t,{trigger:tt?ie.DROPPED_OUTSIDE_OF_ANY:ie.DROPPED_INTO_ZONE,id:ue[Q],source:le.POINTER}),ce!==j&&Fe(j,q.get(j).items,{trigger:ie.DROPPED_INTO_ANOTHER,id:ue[Q],source:le.POINTER}),Fr(ce.children[n]),qr()}Ur(n,r)}function Ur(t,e){const n=Rn(ce.children[t]),r={x:n.left-parseFloat(te.style.left),y:n.top-parseFloat(te.style.top)},{dropAnimationDurationMs:o}=q.get(ce),i=`transform ${o}ms ease`;te.style.transition=te.style.transition?te.style.transition+","+i:i,te.style.transform=`translate3d(${r.x}px, ${r.y}px, 0)`,window.setTimeout(e,o)}function Yr(t,e){rt.push({dz:t,destroy:e}),window.requestAnimationFrame(()=>{$n(t),document.body.appendChild(t)})}function qr(){te.remove(),ye.remove(),rt.length&&(rt.forEach(({dz:t,destroy:e})=>{e(),t.remove()}),rt=[]),te=void 0,ye=void 0,ue=void 0,Et=void 0,j=void 0,vt=void 0,Ve=void 0,ce=void 0,Oe=void 0,he=void 0,Ne=!1,Ht=!1,Wt=void 0,tt=!1}function jr(t,e){let n=!1;const r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:en,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let o=new Map;function i(){window.addEventListener("mousemove",c,{passive:!1}),window.addEventListener("touchmove",c,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function s(){window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l)}function l(){s(),ye=void 0,Oe=void 0,he=void 0}function c(g){g.preventDefault();const p=g.touches?g.touches[0]:g;he={x:p.clientX,y:p.clientY},(Math.abs(he.x-Oe.x)>=Qt||Math.abs(he.y-Oe.y)>=Qt)&&(s(),a())}function d(g){if(g.target!==g.currentTarget&&(g.target.value!==void 0||g.target.isContentEditable)||g.button||Ne)return;g.stopPropagation();const p=g.touches?g.touches[0]:g;Oe={x:p.clientX,y:p.clientY},he={...Oe},ye=g.currentTarget,i()}function a(){Ne=!0;const g=o.get(ye);vt=g,j=ye.parentElement;const p=j.getRootNode(),E=p.body||p,{items:m,type:v,centreDraggedOnCursor:w}=r;ue={...m[g]},Et=v,Ve={...ue,[_t]:!0};const y={...Ve,[Q]:Ft};te=kr(ye,w&&he);function b(){te.parentElement?window.requestAnimationFrame(b):(E.appendChild(te),te.focus(),Hr(),$n(ye),E.appendChild(ye))}window.requestAnimationFrame(b),nt(Array.from(me.get(r.type)).filter(L=>L===j||!q.get(L).dropFromOthersDisabled),L=>q.get(L).dropTargetStyle,L=>q.get(L).dropTargetClasses),m.splice(g,1,y),Wt=Vr(j),Ae(j,m,{trigger:ie.DRAG_STARTED,id:ue[Q],source:le.POINTER}),window.addEventListener("mousemove",ut,{passive:!1}),window.addEventListener("touchmove",ut,{passive:!1,capture:!1}),window.addEventListener("mouseup",Be,{passive:!1}),window.addEventListener("touchend",Be,{passive:!1})}function h({items:g=void 0,flipDurationMs:p=0,type:E=Br,dragDisabled:m=!1,morphDisabled:v=!1,dropFromOthersDisabled:w=!1,dropTargetStyle:y=en,dropTargetClasses:b=[],transformDraggedElement:L=()=>{},centreDraggedOnCursor:P=!1}){r.dropAnimationDurationMs=p,r.type&&E!==r.type&&tn(t,r.type),r.type=E,Zr(t,E),r.items=[...g],r.dragDisabled=m,r.morphDisabled=v,r.transformDraggedElement=L,r.centreDraggedOnCursor=P,n&&Ne&&!Ht&&(!vr(y,r.dropTargetStyle)||!Dr(b,r.dropTargetClasses))&&(dt([t],()=>r.dropTargetStyle,()=>b),nt([t],()=>y,()=>b)),r.dropTargetStyle=y,r.dropTargetClasses=[...b];function R(C,k){return q.get(C)?q.get(C)[k]:r[k]}n&&Ne&&r.dropFromOthersDisabled!==w&&(w?dt([t],C=>R(C,"dropTargetStyle"),C=>R(C,"dropTargetClasses")):nt([t],C=>R(C,"dropTargetStyle"),C=>R(C,"dropTargetClasses"))),r.dropFromOthersDisabled=w,q.set(t,r);const Z=Dt(r.items);for(let C=0;C<t.children.length;C++){const k=t.children[C];if(Mr(k,m),C===Z){r.transformDraggedElement(te,ue,C),v||xr(te,k,he.x,he.y),$r(k);continue}k.removeEventListener("mousedown",It.get(k)),k.removeEventListener("touchstart",It.get(k)),m||(k.addEventListener("mousedown",d),k.addEventListener("touchstart",d),It.set(k,d)),o.set(k,C),n||(n=!0)}}return h(e),{update:g=>{h(g)},destroy:()=>{function g(){tn(t,q.get(t).type),q.delete(t)}Ne?Yr(t,g):g()}}}const Rt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Gn={[Rt.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[Rt.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},Xr="dnd-action-aria-alert";let Y;function Nt(){Y||(Y=document.createElement("div"),function(){Y.id=Xr,Y.style.position="fixed",Y.style.bottom="0",Y.style.left="0",Y.style.zIndex="-5",Y.style.opacity="0",Y.style.height="0",Y.style.width="0",Y.setAttribute("role","alert")}(),document.body.prepend(Y),Object.entries(Gn).forEach(([t,e])=>document.body.prepend(Qr(t,e))))}function Kr(){return Vt?null:(document.readyState==="complete"?Nt():window.addEventListener("DOMContentLoaded",Nt),{...Rt})}function Jr(){Vt||!Y||(Object.keys(Gn).forEach(t=>{var e;return(e=document.getElementById(t))==null?void 0:e.remove()}),Y.remove(),Y=void 0)}function Qr(t,e){const n=document.createElement("div");return n.id=t,n.innerHTML=`<p>${e}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function $e(t){if(Vt)return;Y||Nt(),Y.innerHTML="";const e=document.createTextNode(t);Y.appendChild(e),Y.style.display="none",Y.style.display="inline"}const eo="--any--",nn={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let ge=!1,Lt,re,Se="",Re,ve,Ie="";const ft=new WeakSet,rn=new WeakMap,on=new WeakMap,St=new Map,ee=new Map,pe=new Map;let ht;function to(t,e){pe.size===0&&(ht=Kr(),window.addEventListener("keydown",Zn),window.addEventListener("click",Hn)),pe.has(e)||pe.set(e,new Set),pe.get(e).has(t)||(pe.get(e).add(t),An())}function sn(t,e){re===t&&Je(),pe.get(e).delete(t),Cn(),pe.get(e).size===0&&pe.delete(e),pe.size===0&&(window.removeEventListener("keydown",Zn),window.removeEventListener("click",Hn),ht=void 0,Jr())}function Zn(t){if(ge)switch(t.key){case"Escape":{Je();break}}}function Hn(){ge&&(ft.has(document.activeElement)||Je())}function no(t){if(!ge)return;const e=t.currentTarget;if(e===re)return;Se=e.getAttribute("aria-label")||"";const{items:n}=ee.get(re),r=n.find(d=>d[Q]===ve),o=n.indexOf(r),i=n.splice(o,1)[0],{items:s,autoAriaDisabled:l}=ee.get(e);e.getBoundingClientRect().top<re.getBoundingClientRect().top||e.getBoundingClientRect().left<re.getBoundingClientRect().left?(s.push(i),l||$e(`Moved item ${Ie} to the end of the list ${Se}`)):(s.unshift(i),l||$e(`Moved item ${Ie} to the beginning of the list ${Se}`)),Fe(re,n,{trigger:ie.DROPPED_INTO_ANOTHER,id:ve,source:le.KEYBOARD}),Fe(e,s,{trigger:ie.DROPPED_INTO_ZONE,id:ve,source:le.KEYBOARD}),re=e}function Wn(){St.forEach(({update:t},e)=>t(ee.get(e)))}function Je(t=!0){ee.get(re).autoAriaDisabled||$e(`Stopped dragging item ${Ie}`),ft.has(document.activeElement)&&document.activeElement.blur(),t&&Ae(re,ee.get(re).items,{trigger:ie.DRAG_STOPPED,id:ve,source:le.KEYBOARD}),dt(pe.get(Lt),e=>ee.get(e).dropTargetStyle,e=>ee.get(e).dropTargetClasses),Re=null,ve=null,Ie="",Lt=null,re=null,Se="",ge=!1,Wn()}function ro(t,e){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:nn,dropTargetClasses:[],autoAriaDisabled:!1};function r(a,h,g){a.length<=1||a.splice(g,1,a.splice(h,1,a[g])[0])}function o(a){switch(a.key){case"Enter":case" ":{if((a.target.disabled!==void 0||a.target.href||a.target.isContentEditable)&&!ft.has(a.target))return;a.preventDefault(),a.stopPropagation(),ge?Je():i(a);break}case"ArrowDown":case"ArrowRight":{if(!ge)return;a.preventDefault(),a.stopPropagation();const{items:h}=ee.get(t),g=Array.from(t.children),p=g.indexOf(a.currentTarget);p<g.length-1&&(n.autoAriaDisabled||$e(`Moved item ${Ie} to position ${p+2} in the list ${Se}`),r(h,p,p+1),Fe(t,h,{trigger:ie.DROPPED_INTO_ZONE,id:ve,source:le.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!ge)return;a.preventDefault(),a.stopPropagation();const{items:h}=ee.get(t),p=Array.from(t.children).indexOf(a.currentTarget);p>0&&(n.autoAriaDisabled||$e(`Moved item ${Ie} to position ${p} in the list ${Se}`),r(h,p,p-1),Fe(t,h,{trigger:ie.DROPPED_INTO_ZONE,id:ve,source:le.KEYBOARD}));break}}}function i(a){l(a.currentTarget),re=t,Lt=n.type,ge=!0;const h=Array.from(pe.get(n.type)).filter(g=>g===re||!ee.get(g).dropFromOthersDisabled);if(nt(h,g=>ee.get(g).dropTargetStyle,g=>ee.get(g).dropTargetClasses),!n.autoAriaDisabled){let g=`Started dragging item ${Ie}. Use the arrow keys to move it within its list ${Se}`;h.length>1&&(g+=", or tab to another list in order to move the item into it"),$e(g)}Ae(t,ee.get(t).items,{trigger:ie.DRAG_STARTED,id:ve,source:le.KEYBOARD}),Wn()}function s(a){ge&&a.currentTarget!==Re&&(a.stopPropagation(),Je(!1),i(a))}function l(a){const{items:h}=ee.get(t),g=Array.from(t.children),p=g.indexOf(a);Re=a,Re.tabIndex=0,ve=h[p][Q],Ie=g[p].getAttribute("aria-label")||""}function c({items:a=[],type:h=eo,dragDisabled:g=!1,zoneTabIndex:p=0,dropFromOthersDisabled:E=!1,dropTargetStyle:m=nn,dropTargetClasses:v=[],autoAriaDisabled:w=!1}){n.items=[...a],n.dragDisabled=g,n.dropFromOthersDisabled=E,n.zoneTabIndex=p,n.dropTargetStyle=m,n.dropTargetClasses=v,n.autoAriaDisabled=w,n.type&&h!==n.type&&sn(t,n.type),n.type=h,to(t,h),w||(t.setAttribute("aria-disabled",g),t.setAttribute("role","list"),t.setAttribute("aria-describedby",g?ht.DND_ZONE_DRAG_DISABLED:ht.DND_ZONE_ACTIVE)),ee.set(t,n),ge?t.tabIndex=t===re||Re.contains(t)||n.dropFromOthersDisabled||re&&n.type!==ee.get(re).type?-1:0:t.tabIndex=n.zoneTabIndex,t.addEventListener("focus",no);for(let y=0;y<t.children.length;y++){const b=t.children[y];ft.add(b),b.tabIndex=ge?-1:0,w||b.setAttribute("role","listitem"),b.removeEventListener("keydown",rn.get(b)),b.removeEventListener("click",on.get(b)),g||(b.addEventListener("keydown",o),rn.set(b,o),b.addEventListener("click",s),on.set(b,s)),ge&&n.items[y][Q]===ve&&(Re=b,Re.tabIndex=0,b.focus())}}c(e);const d={update:a=>{c(a)},destroy:()=>{sn(t,n.type),ee.delete(t),St.delete(t)}};return St.set(t,d),d}function oo(t,e){ln(e);const n=jr(t,e),r=ro(t,e);return{update:o=>{ln(o),n.update(o),r.update(o)},destroy:()=>{n.destroy(),r.destroy()}}}function ln(t){const{items:e,flipDurationMs:n,type:r,dragDisabled:o,morphDisabled:i,dropFromOthersDisabled:s,zoneTabIndex:l,dropTargetStyle:c,dropTargetClasses:d,transformDraggedElement:a,autoAriaDisabled:h,centreDraggedOnCursor:g,...p}=t;if(Object.keys(p).length>0&&console.warn("dndzone will ignore unknown options",p),!e)throw new Error("no 'items' key provided to dndzone");const E=e.find(m=>!{}.hasOwnProperty.call(m,Q));if(E)throw new Error(`missing '${Q}' property for item ${Ot(E)}`);if(d&&!Array.isArray(d))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof d}, ${Ot(d)}`);if(l&&!io(l))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof l}, ${Ot(l)}`)}function io(t){return!isNaN(t)&&function(e){return(e|0)===e}(parseFloat(t))}const zn=We(["l","r","r","d","d","d"]),Un=We([0,0,0,0,0,0]),Yn=We([0,0,0,0,0,0]),Qe=We(0),Me=We(-1),qn=We("Drag the toolbox commands into the program and press play!");function an(t,e,n){const r=t.slice();return r[12]=e[n],r[13]=e,r[14]=n,r}function cn(t,e){let n,r,o,i="<",s,l,c,d,a,h="1",g,p,E,m="2",v,w,y,b="3",L,P,R,Z="4",C,k,A,M="5",ne,S,H,G=">",X,K,T,N=e[12].name+"",x,fe,we,_e=ke,ae,Te;function ze(){e[11].call(d,e[14])}return{key:t,first:null,c(){n=O("div"),r=O("div"),o=O("div"),s=$(i),l=V(),c=O("div"),d=O("select"),a=O("option"),g=$(h),p=V(),E=O("option"),v=$(m),w=V(),y=O("option"),L=$(b),P=V(),R=O("option"),C=$(Z),k=V(),A=O("option"),ne=$(M),S=V(),H=O("div"),X=$(G),K=V(),T=O("div"),x=$(N),fe=V(),this.h()},l(Ee){n=I(Ee,"DIV",{class:!0,style:!0});var J=D(n);r=I(J,"DIV",{class:!0});var Pe=D(r);o=I(Pe,"DIV",{class:!0,style:!0});var zt=D(o);s=F(zt,i),zt.forEach(_),l=B(Pe),c=I(Pe,"DIV",{class:!0});var Ut=D(c);d=I(Ut,"SELECT",{class:!0});var xe=D(d);a=I(xe,"OPTION",{});var wt=D(a);g=F(wt,h),p=B(wt),wt.forEach(_),E=I(xe,"OPTION",{});var yt=D(E);v=F(yt,m),w=B(yt),yt.forEach(_),y=I(xe,"OPTION",{});var bt=D(y);L=F(bt,b),P=B(bt),bt.forEach(_),R=I(xe,"OPTION",{});var Tt=D(R);C=F(Tt,Z),k=B(Tt),Tt.forEach(_),A=I(xe,"OPTION",{});var Yt=D(A);ne=F(Yt,M),Yt.forEach(_),xe.forEach(_),Ut.forEach(_),S=B(Pe),H=I(Pe,"DIV",{class:!0,style:!0});var qt=D(H);X=F(qt,G),qt.forEach(_),Pe.forEach(_),K=B(J),T=I(J,"DIV",{class:!0});var jt=D(T);x=F(jt,N),jt.forEach(_),fe=B(J),J.forEach(_),this.h()},h(){u(o,"class","leftbutton svelte-1jb2xq7"),de(o,"font-weight","900"),U(o,"hide",e[3]==0||e[12].name=="repeat ____ times:"),a.__value="1",a.value=a.__value,E.__value="2",E.value=E.__value,y.__value="3",y.value=y.__value,R.__value="4",R.value=R.__value,A.__value="5",A.value=A.__value,u(d,"class","selectDirect svelte-1jb2xq7"),e[4][e[14]]===void 0&&vn(ze),u(c,"class","selectRepeat svelte-1jb2xq7"),U(c,"hide",e[3]==0||e[12].name!="repeat ____ times:"),u(H,"class","rightbutton svelte-1jb2xq7"),de(H,"font-weight","900"),U(H,"hide",e[3]==0||e[12].name=="repeat ____ times:"),u(r,"class","buttons svelte-1jb2xq7"),u(T,"class","name"),u(n,"class","card svelte-1jb2xq7"),de(n,"margin-left",e[12].indent+"px"),U(n,"toolbox",e[1]==="toolbox"),U(n,"selected",e[2]==e[14]&&e[1]==="program"),this.first=n},m(Ee,J){oe(Ee,n,J),f(n,r),f(r,o),f(o,s),f(r,l),f(r,c),f(c,d),f(d,a),f(a,g),f(a,p),f(d,E),f(E,v),f(E,w),f(d,y),f(y,L),f(y,P),f(d,R),f(R,C),f(R,k),f(d,A),f(A,ne),it(d,e[4][e[14]],!0),f(r,S),f(r,H),f(H,X),f(n,K),f(n,T),f(T,x),f(n,fe),ae||(Te=[se(o,"click",function(){ot(e[8](e[12]))&&e[8](e[12]).apply(this,arguments)}),se(d,"change",ze),se(d,"change",e[5]),se(H,"click",function(){ot(e[9](e[12]))&&e[9](e[12]).apply(this,arguments)})],ae=!0)},p(Ee,J){e=Ee,J&9&&U(o,"hide",e[3]==0||e[12].name=="repeat ____ times:"),J&17&&it(d,e[4][e[14]]),J&9&&U(c,"hide",e[3]==0||e[12].name!="repeat ____ times:"),J&9&&U(H,"hide",e[3]==0||e[12].name=="repeat ____ times:"),J&1&&N!==(N=e[12].name+"")&&xt(x,N),J&1&&de(n,"margin-left",e[12].indent+"px"),J&2&&U(n,"toolbox",e[1]==="toolbox"),J&7&&U(n,"selected",e[2]==e[14]&&e[1]==="program")},r(){we=n.getBoundingClientRect()},f(){Dn(n),_e()},a(){_e(),_e=wn(n,we,In,{duration:kt})},d(Ee){Ee&&_(n),ae=!1,gt(Te)}}}function so(t){let e,n,r,o,i,s=[],l=new Map,c,d,a,h=t[0];const g=p=>p[12].id;for(let p=0;p<h.length;p+=1){let E=an(t,h,p),m=g(E);l.set(m,s[p]=cn(m,E))}return{c(){e=O("div"),n=O("div"),r=$(t[1]),o=V(),i=O("div");for(let p=0;p<s.length;p+=1)s[p].c();this.h()},l(p){e=I(p,"DIV",{class:!0});var E=D(e);n=I(E,"DIV",{class:!0});var m=D(n);r=F(m,t[1]),m.forEach(_),o=B(E),i=I(E,"DIV",{class:!0});var v=D(i);for(let w=0;w<s.length;w+=1)s[w].l(v);v.forEach(_),E.forEach(_),this.h()},h(){u(n,"class","column-title svelte-1jb2xq7"),u(i,"class","column-content svelte-1jb2xq7"),u(e,"class","wrapper svelte-1jb2xq7"),U(e,"program",t[1]==="program")},m(p,E){oe(p,e,E),f(e,n),f(n,r),f(e,o),f(e,i);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(i,null);d||(a=[jn(c=oo.call(null,i,{items:t[0],flipDurationMs:kt,zoneTabIndex:-1})),se(i,"consider",t[6]),se(i,"finalize",t[7])],d=!0)},p(p,[E]){if(E&2&&xt(r,p[1]),E&831){h=p[0];for(let m=0;m<s.length;m+=1)s[m].r();s=En(s,E,g,1,p,h,l,i,Xn,cn,null,an);for(let m=0;m<s.length;m+=1)s[m].a()}c&&ot(c.update)&&E&1&&c.update.call(null,{items:p[0],flipDurationMs:kt,zoneTabIndex:-1}),E&2&&U(e,"program",p[1]==="program")},i:ke,o:ke,d(p){p&&_(e);for(let E=0;E<s.length;E+=1)s[E].d();d=!1,gt(a)}}}const kt=150;function lo(t,e,n){let r=-1;Me.subscribe(m=>{n(2,r=m)});let o=0;Qe.subscribe(m=>{n(3,o=m)});let i=[],{name:s}=e,{items:l}=e,{onDrop:c}=e;function d(){console.log("CHANGE REP"),Yn.update(m=>i)}function a(m){n(0,l=m.detail.items)}function h(m){c(m.detail.items)}function g(m){console.log("DECR"),m.indent>=50&&(m.indent-=50),m=m,c(l)}function p(m){console.log("INCREASE"),m.indent<=50*2&&(m.indent+=50),m=m,c(l)}function E(m){i[m]=yn(this),n(4,i)}return t.$$set=m=>{"name"in m&&n(1,s=m.name),"items"in m&&n(0,l=m.items),"onDrop"in m&&n(10,c=m.onDrop)},[l,s,r,o,i,d,a,h,g,p,c,E]}class ao extends Ge{constructor(e){super(),Ze(this,e,lo,so,He,{name:1,items:0,onDrop:10})}}function dn(t,e,n){const r=t.slice();return r[6]=e[n].id,r[7]=e[n].name,r[8]=e[n].items,r[9]=e[n].indents,r[11]=n,r}function un(t,e){let n,r,o,i,s=ke,l;function c(...d){return e[3](e[11],e[7],...d)}return r=new ao({props:{name:e[7],items:e[8],onDrop:c}}),{key:t,first:null,c(){n=O("div"),Ye(r.$$.fragment),o=V(),this.h()},l(d){n=I(d,"DIV",{class:!0});var a=D(n);qe(r.$$.fragment,a),o=B(a),a.forEach(_),this.h()},h(){u(n,"class","column svelte-2ehquc"),U(n,"program",e[7]==="program"),this.first=n},m(d,a){oe(d,n,a),je(r,n,null),f(n,o),l=!0},p(d,a){e=d;const h={};a&1&&(h.name=e[7]),a&1&&(h.items=e[8]),a&1&&(h.onDrop=c),r.$set(h),(!l||a&1)&&U(n,"program",e[7]==="program")},r(){i=n.getBoundingClientRect()},f(){Dn(n),s()},a(){s(),s=wn(n,i,In,{duration:uo})},i(d){l||(De(r.$$.fragment,d),l=!0)},o(d){be(r.$$.fragment,d),l=!1},d(d){d&&_(n),Xe(r)}}}function co(t){let e,n=[],r=new Map,o,i=t[0];const s=l=>l[6];for(let l=0;l<i.length;l+=1){let c=dn(t,i,l),d=s(c);r.set(d,n[l]=un(d,c))}return{c(){e=O("section");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=I(l,"SECTION",{class:!0});var c=D(e);for(let d=0;d<n.length;d+=1)n[d].l(c);c.forEach(_),this.h()},h(){u(e,"class","board svelte-2ehquc")},m(l,c){oe(l,e,c);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);o=!0},p(l,[c]){if(c&3){i=l[0],bn();for(let d=0;d<n.length;d+=1)n[d].r();n=En(n,c,s,1,l,i,r,e,Kn,un,null,dn);for(let d=0;d<n.length;d+=1)n[d].a();Tn()}},i(l){if(!o){for(let c=0;c<i.length;c+=1)De(n[c]);o=!0}},o(l){for(let c=0;c<n.length;c+=1)be(n[c]);o=!1},d(l){l&&_(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}const uo=300;function fo(t,e,n){let{columns:r}=e,{onFinalUpdate:o}=e;function i(l,c,d){n(0,r[l].items=d,r);let a;c=="toolbox"&&(a=r[l].items,a.forEach(h=>{h.indent=0})),o([...r])}const s=(l,c,d)=>i(l,c,d);return t.$$set=l=>{"columns"in l&&n(0,r=l.columns),"onFinalUpdate"in l&&n(2,o=l.onFinalUpdate)},[r,i,o,s]}class ho extends Ge{constructor(e){super(),Ze(this,e,fo,co,He,{columns:0,onFinalUpdate:2})}}function go(t){let e,n,r;return n=new ho({props:{columns:t[0],onFinalUpdate:t[1]}}),{c(){e=O("div"),Ye(n.$$.fragment),this.h()},l(o){e=I(o,"DIV",{class:!0});var i=D(e);qe(n.$$.fragment,i),i.forEach(_),this.h()},h(){u(e,"class","together svelte-7io7y5")},m(o,i){oe(o,e,i),je(n,e,null),r=!0},p(o,[i]){const s={};i&1&&(s.columns=o[0]),n.$set(s)},i(o){r||(De(n.$$.fragment,o),r=!0)},o(o){be(n.$$.fragment,o),r=!1},d(o){o&&_(e),Xe(n)}}}function po(t){let e=[];return t.forEach(n=>{let r;switch(n.name){case"move_up()":r="u";break;case"move_down()":r="d";break;case"move_left()":r="l";break;case"move_right()":r="r";break;case"water()":r="w";break;case"repeat ____ times:":r="repeat";break}e.push(r)}),e}function mo(t){let e=[];return t.forEach(n=>{e.push(n.indent)}),e}function _o(t,e,n){let r=0,o,i;o=[{id:1,name:"move_left()",indent:0},{id:2,name:"move_right()",indent:0},{id:3,name:"move_up()",indent:0},{id:4,name:"move_down()",indent:0},{id:5,name:"water()",indent:0}],i=[{id:"c1",name:"toolbox",items:[{id:1,name:"move_left()",indent:0},{id:2,name:"move_right()",indent:0},{id:3,name:"move_up()",indent:0},{id:4,name:"move_down()",indent:0},{id:5,name:"water()",indent:0}]},{id:"c2",name:"program",items:[]}],r>0&&o.push({id:6,name:"repeat ____ times:",indent:0}),r>0&&i[0].items.push({id:6,name:"repeat ____ times:",indent:0}),Qe.subscribe(c=>{r=c,s()});function s(){console.log(" LEVEL UPDATE"),console.log(r),o=[{id:1,name:"move_left()",indent:0},{id:2,name:"move_right()",indent:0},{id:3,name:"move_up()",indent:0},{id:4,name:"move_down()",indent:0},{id:5,name:"water()",indent:0}],n(0,i=[{id:"c1",name:"toolbox",items:[{id:1,name:"move_left()",indent:0},{id:2,name:"move_right()",indent:0},{id:3,name:"move_up()",indent:0},{id:4,name:"move_down()",indent:0},{id:5,name:"water()",indent:0}]},{id:"c2",name:"program",items:[]}]),r>0&&o.push({id:6,name:"repeat ____ times:",indent:0}),r>0&&i[0].items.push({id:6,name:"repeat ____ times:",indent:0})}function l(c){console.log("HANDLE UPDATE"),console.log(c);for(let h=0;h<o.length;h++)console.log(o[h]),o[h].id+=10;c[0].items=o,n(0,i=c);let d=po(i[1].items),a=mo(i[1].items);Un.update(h=>a),zn.update(h=>d)}return[i,l]}class Eo extends Ge{constructor(e){super(),Ze(this,e,_o,go,He,{})}}function fn(t,e,n){const r=t.slice();return r[35]=e[n],r[37]=n,r}function hn(t,e,n){const r=t.slice();return r[38]=e[n],r[40]=n,r}function gn(t){let e,n,r,o,i,s,l,c,d,a,h,g,p,E,m,v,w,y,b,L,P,R,Z,C,k;return{c(){e=O("div"),n=O("div"),r=W("svg"),o=W("path"),i=W("rect"),s=W("rect"),l=W("rect"),c=W("rect"),d=W("rect"),a=W("rect"),h=W("path"),g=W("path"),p=W("rect"),E=W("path"),m=W("rect"),v=W("path"),w=W("path"),y=W("rect"),b=W("rect"),L=W("path"),P=W("path"),R=W("rect"),Z=W("path"),C=W("path"),k=V(),this.h()},l(A){e=I(A,"DIV",{class:!0});var M=D(e);n=I(M,"DIV",{class:!0});var ne=D(n);r=z(ne,"svg",{style:!0,viewBox:!0,fill:!0,xmlns:!0});var S=D(r);o=z(S,"path",{d:!0,fill:!0}),D(o).forEach(_),i=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,fill:!0}),D(i).forEach(_),s=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,fill:!0}),D(s).forEach(_),l=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,fill:!0}),D(l).forEach(_),c=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,fill:!0}),D(c).forEach(_),d=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,fill:!0}),D(d).forEach(_),a=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,fill:!0}),D(a).forEach(_),h=z(S,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),D(h).forEach(_),g=z(S,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),D(g).forEach(_),p=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0,fill:!0}),D(p).forEach(_),E=z(S,"path",{d:!0,fill:!0}),D(E).forEach(_),m=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0,fill:!0}),D(m).forEach(_),v=z(S,"path",{d:!0,fill:!0}),D(v).forEach(_),w=z(S,"path",{d:!0,fill:!0}),D(w).forEach(_),y=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),D(y).forEach(_),b=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),D(b).forEach(_),L=z(S,"path",{d:!0,fill:!0}),D(L).forEach(_),P=z(S,"path",{d:!0,fill:!0}),D(P).forEach(_),R=z(S,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),D(R).forEach(_),Z=z(S,"path",{d:!0,fill:!0}),D(Z).forEach(_),C=z(S,"path",{d:!0,fill:!0}),D(C).forEach(_),S.forEach(_),ne.forEach(_),k=B(M),M.forEach(_),this.h()},h(){u(o,"d","M99.8989 30.0001C99.8989 21.7159 106.615 15.0001 114.899 15.0001H164.899C173.183 15.0001 179.899 21.7159 179.899 30.0001V105.819C179.899 117.59 173.015 128.274 162.295 133.138L144.031 141.425C141.405 142.617 138.393 142.617 135.767 141.425L117.503 133.138C106.783 128.274 99.8989 117.59 99.8989 105.819V30.0001Z"),u(o,"fill","#8B6730"),u(i,"x","108.874"),u(i,"y","62.9496"),u(i,"width","25"),u(i,"height","17.5"),u(i,"rx","8.75"),u(i,"fill","white"),u(s,"x","116.374"),u(s,"y","66.7495"),u(s,"width","10"),u(s,"height","10"),u(s,"rx","5"),u(s,"fill","#8B6730"),u(l,"x","118.875"),u(l,"y","69.2496"),u(l,"width","5"),u(l,"height","5"),u(l,"rx","2.5"),u(l,"fill","black"),u(c,"x","146.874"),u(c,"y","62.9496"),u(c,"width","25"),u(c,"height","17.5"),u(c,"rx","8.75"),u(c,"fill","white"),u(d,"x","154.374"),u(d,"y","66.7495"),u(d,"width","10"),u(d,"height","10"),u(d,"rx","5"),u(d,"fill","#8B6730"),u(a,"x","156.874"),u(a,"y","69.2496"),u(a,"width","5"),u(a,"height","5"),u(a,"rx","2.5"),u(a,"fill","black"),u(h,"d","M86.6006 79.2396C100.484 45.9562 136.241 -12.6204 168.201 19.3396C200.161 51.2996 189.284 47.0896 179.851 40.9896C163.751 33.7729 143.871 19.3396 193.151 19.3396"),u(h,"stroke","#4C381A"),u(h,"stroke-width","20"),u(h,"stroke-linecap","round"),u(g,"d","M193.15 79.2397C179.266 45.9564 143.51 -12.6203 111.55 19.3397C79.5895 51.2997 90.4662 47.0897 99.8995 40.9897C116 33.773 135.88 19.3397 86.5995 19.3397"),u(g,"stroke","#4C381A"),u(g,"stroke-width","20"),u(g,"stroke-linecap","round"),u(p,"x","50.3138"),u(p,"y","164"),u(p,"width","40"),u(p,"height","194.4"),u(p,"rx","20"),u(p,"transform","rotate(15 50.3138 164)"),u(p,"fill","#8B6730"),u(E,"d","M45.1375 183.318C47.9963 172.649 58.963 166.317 69.6324 169.176C80.3017 172.035 86.6333 183.002 83.7745 193.671L52.7162 309.582L14.0792 299.229L45.1375 183.318Z"),u(E,"fill","#E6DED2"),u(m,"x","190.951"),u(m,"y","174"),u(m,"width","40"),u(m,"height","194.4"),u(m,"rx","20"),u(m,"transform","rotate(-15 190.951 174)"),u(m,"fill","#8B6730"),u(v,"d","M196.127 193.319C193.268 182.649 199.6 171.683 210.269 168.824C220.938 165.965 231.905 172.297 234.764 182.966L265.822 298.877L227.185 309.23L196.127 193.319Z"),u(v,"fill","#E6DED2"),u(w,"d","M64.9503 168C64.9503 154.193 76.1432 143 89.9503 143H189.95C203.757 143 214.95 154.193 214.95 168V383H64.9503V168Z"),u(w,"fill","#FAF7F3"),u(y,"x","125.17"),u(y,"y","383"),u(y,"width","30"),u(y,"height","80"),u(y,"fill","#A6C1E1"),u(b,"x","65.1707"),u(b,"y","383"),u(b,"width","60"),u(b,"height","300"),u(b,"fill","#A6C1E1"),u(L,"d","M60.5723 658.9C60.5723 653.378 65.0494 648.9 70.5723 648.9H119.772C125.295 648.9 129.772 653.378 129.772 658.9V682.5C129.772 682.777 129.548 683 129.272 683H61.0723C60.7961 683 60.5723 682.777 60.5723 682.5V658.9Z"),u(L,"fill","#E5E5E5"),u(P,"d","M60.5723 679C60.5723 678.724 60.7961 678.5 61.0723 678.5H129.272C129.548 678.5 129.772 678.724 129.772 679V682.5C129.772 682.776 129.548 683 129.272 683H61.0723C60.7961 683 60.5723 682.776 60.5723 682.5V679Z"),u(P,"fill","#C4C4C4"),u(R,"x","155.171"),u(R,"y","383"),u(R,"width","60"),u(R,"height","300"),u(R,"fill","#A6C1E1"),u(Z,"d","M150.572 658.9C150.572 653.378 155.049 648.9 160.572 648.9H209.772C215.295 648.9 219.772 653.378 219.772 658.9V682.5C219.772 682.777 219.548 683 219.272 683H151.072C150.796 683 150.572 682.777 150.572 682.5V658.9Z"),u(Z,"fill","#E5E5E5"),u(C,"d","M150.572 679C150.572 678.724 150.796 678.5 151.072 678.5H219.272C219.548 678.5 219.772 678.724 219.772 679V682.5C219.772 682.776 219.548 683 219.272 683H151.072C150.796 683 150.572 682.776 150.572 682.5V679Z"),u(C,"fill","#C4C4C4"),de(r,"width",t[1]/t[0]),de(r,"height",t[1]/t[0]),u(r,"viewBox","0 0 280 683"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(n,"class","characterSVG svelte-ayi5a8"),U(n,"hideCell",t[5][0]!=t[37]||t[5][1]!=t[40]),u(e,"class","cell svelte-ayi5a8"),U(e,"character",t[5][0]==t[37]&&t[5][1]==t[40]),U(e,"sapling",t[3][t[37]][t[40]]==mn),U(e,"watered",t[4][t[37]][t[40]]==Pt)},m(A,M){oe(A,e,M),f(e,n),f(n,r),f(r,o),f(r,i),f(r,s),f(r,l),f(r,c),f(r,d),f(r,a),f(r,h),f(r,g),f(r,p),f(r,E),f(r,m),f(r,v),f(r,w),f(r,y),f(r,b),f(r,L),f(r,P),f(r,R),f(r,Z),f(r,C),f(e,k)},p(A,M){M[0]&3&&de(r,"width",A[1]/A[0]),M[0]&3&&de(r,"height",A[1]/A[0]),M[0]&32&&U(n,"hideCell",A[5][0]!=A[37]||A[5][1]!=A[40]),M[0]&32&&U(e,"character",A[5][0]==A[37]&&A[5][1]==A[40]),M[0]&8&&U(e,"sapling",A[3][A[37]][A[40]]==mn),M[0]&16&&U(e,"watered",A[4][A[37]][A[40]]==Pt)},d(A){A&&_(e)}}}function pn(t){let e,n=t[35],r=[];for(let o=0;o<n.length;o+=1)r[o]=gn(hn(t,n,o));return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=st()},l(o){for(let i=0;i<r.length;i+=1)r[i].l(o);e=st()},m(o,i){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(o,i);oe(o,e,i)},p(o,i){if(i[0]&59){n=o[35];let s;for(s=0;s<n.length;s+=1){const l=hn(o,n,s);r[s]?r[s].p(l,i):(r[s]=gn(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(o){On(r,o),o&&_(e)}}}function vo(t){let e,n,r,o,i,s,l,c,d,a,h,g,p,E,m=t[3],v=[];for(let w=0;w<m.length;w+=1)v[w]=pn(fn(t,m,w));return{c(){e=O("div"),n=O("h2"),r=$("field"),o=V(),i=O("div");for(let w=0;w<v.length;w+=1)v[w].c();s=V(),l=O("div"),c=O("button"),d=$("Play"),a=V(),h=O("button"),g=$("Restart"),this.h()},l(w){e=I(w,"DIV",{class:!0});var y=D(e);n=I(y,"H2",{class:!0});var b=D(n);r=F(b,"field"),b.forEach(_),o=B(y),i=I(y,"DIV",{class:!0,style:!0});var L=D(i);for(let C=0;C<v.length;C+=1)v[C].l(L);L.forEach(_),s=B(y),l=I(y,"DIV",{class:!0});var P=D(l);c=I(P,"BUTTON",{class:!0});var R=D(c);d=F(R,"Play"),R.forEach(_),a=B(P),h=I(P,"BUTTON",{class:!0});var Z=D(h);g=F(Z,"Restart"),Z.forEach(_),P.forEach(_),y.forEach(_),this.h()},h(){u(n,"class","svelte-ayi5a8"),u(i,"class","field svelte-ayi5a8"),de(i,"grid-template-columns","repeat("+t[0]+", 1fr)"),de(i,"grid-auto-rows",t[2]),u(c,"class","svelte-ayi5a8"),u(h,"class","svelte-ayi5a8"),u(l,"class","controls svelte-ayi5a8"),u(e,"class","wrapper svelte-ayi5a8")},m(w,y){oe(w,e,y),f(e,n),f(n,r),f(e,o),f(e,i);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(i,null);f(e,s),f(e,l),f(l,c),f(c,d),f(l,a),f(l,h),f(h,g),p||(E=[se(c,"click",t[6]),se(h,"click",t[7])],p=!0)},p(w,y){if(y[0]&59){m=w[3];let b;for(b=0;b<m.length;b+=1){const L=fn(w,m,b);v[b]?v[b].p(L,y):(v[b]=pn(L),v[b].c(),v[b].m(i,null))}for(;b<v.length;b+=1)v[b].d(1);v.length=m.length}y[0]&1&&de(i,"grid-template-columns","repeat("+w[0]+", 1fr)"),y[0]&4&&de(i,"grid-auto-rows",w[2])},i:ke,o:ke,d(w){w&&_(e),On(v,w),p=!1,gt(E)}}}const mn=0,Do=0,Pt=1;function wo(t,e,n){let r=2,o=!1,i=0,s=0,l=0;Qe.subscribe(T=>{n(8,l=T)});let c=250,d=c/r,a,h,g,p,E=!1,m={drag:"Drag the toolbox commands into the program and press play!",incorrect:"Make sure to water all the plants!",correct:"Great job! All the plants are watered! You completed Level 0!",collision:"You can't walk outside the field!","bad indent":"Your indents are not correct!","start indent":"Your first command should not be indented!"},v=-1;Me.subscribe(T=>{v=T});let w=[];zn.subscribe(T=>{w=T});let y=[];Un.subscribe(T=>{y=T});let b=[];Yn.subscribe(T=>{b=T});function L(){n(3,a=[...Array(r)].map(()=>Array(r).fill(0))),n(4,h=[...Array(r)].map(()=>Array(r).fill(0))),n(5,g=[0,0])}function P(T){n(5,g=T)}function R(T){let N=m[T];qn.update(x=>N)}function Z(){console.log("cant move that way!"),R("collision"),A()}function C(T){const[N,x]=T;return N<0||N===r||x<0||x===r?Z():P(T)}function k(T){const[N,x]=T;n(4,h[N][x]=Pt,h)}function A(){clearInterval(p),Me.update(T=>-1)}function M(){if(Me.update(fe=>fe+1),o&&S(),ne(),v>=w.length){H(),A();return}console.log("step"),console.log(v);let T=w[v];const[N,x]=g;switch(T){case"r":return C([N,x+1]);case"l":return C([N,x-1]);case"u":return C([N-1,x]);case"d":return C([N+1,x]);case"w":return k([N,x]);case"repeat":o||(console.log("FOUND REPEAT"),s=b[v],i=v,o=!0);return}}function ne(){if(y[0]!=0){R("start indent"),A();return}if(y[v]>y[v-1]+50){R("bad indent"),console.log(y[v]),console.log(y[v-1]+50),console.log("INDENT 1 CASE"),A();return}if(y[v]==y[v-1]+50){if(o)return;R("bad indent"),console.log("INDENT 2 CASE"),A();return}}function S(){if(v==w.length||y[v]<=y[i]){if(s-=1,console.log(s),s<=0){o=!1;return}Me.update(T=>i)}}function H(){console.log("Success!");let T;T=G(),R(T?"correct":"incorrect")}function G(){for(let T=0;T<r;T++)for(let N=0;N<r;N++)if(h[T][N]==Do)return console.log("NOT ALL WATERED!"),!1;return console.log("ALL WATERED!"),!0}function X(){Me.update(T=>-1),E&&K(),E=!0,p=setInterval(M,750)}function K(){L()}return L(),t.$$.update=()=>{t.$$.dirty[0]&259&&(console.log("LEVEL CHANGED"),console.log(l),l==0?n(0,r=2):l==1&&n(0,r=3),n(1,c=250),n(2,d=c/r),L())},[r,c,d,a,h,g,X,K,l]}class yo extends Ge{constructor(e){super(),Ze(this,e,wo,vo,He,{},null,[-1,-1])}}function _n(t){let e,n,r,o,i,s,l,c;const d=t[4].default,a=Jn(d,t,t[3],null);return{c(){e=O("div"),n=O("div"),r=O("span"),o=$("×"),i=V(),a&&a.c(),this.h()},l(h){e=I(h,"DIV",{class:!0});var g=D(e);n=I(g,"DIV",{class:!0});var p=D(n);r=I(p,"SPAN",{class:!0});var E=D(r);o=F(E,"×"),E.forEach(_),i=B(p),a&&a.l(p),p.forEach(_),g.forEach(_),this.h()},h(){u(r,"class","close svelte-1tox1d6"),u(n,"class","modal svelte-1tox1d6"),u(e,"class","modal-wrapper svelte-1tox1d6")},m(h,g){oe(h,e,g),f(e,n),f(n,r),f(r,o),f(n,i),a&&a.m(n,null),s=!0,l||(c=se(r,"click",t[6]),l=!0)},p(h,g){a&&a.p&&(!s||g&8)&&Qn(a,d,h,h[3],s?tr(d,h[3],g,null):er(h[3]),null)},i(h){s||(De(a,h),s=!0)},o(h){be(a,h),s=!1},d(h){h&&_(e),a&&a.d(h),l=!1,c()}}}function bo(t){let e,n,r,o,i=t[1]&&_n(t);return{c(){i&&i.c(),e=st()},l(s){i&&i.l(s),e=st()},m(s,l){i&&i.m(s,l),oe(s,e,l),n=!0,r||(o=se(window,"keydown",t[5]),r=!0)},p(s,[l]){s[1]?i?(i.p(s,l),l&2&&De(i,1)):(i=_n(s),i.c(),De(i,1),i.m(e.parentNode,e)):i&&(bn(),be(i,1,1,()=>{i=null}),Tn())},i(s){n||(De(i),n=!0)},o(s){be(i),n=!1},d(s){i&&i.d(s),s&&_(e),r=!1,o()}}}function To(t,e,n){let{$$slots:r={},$$scope:o}=e,i=!0;function s(){n(1,i=!0)}function l(){n(1,i=!1)}const c=a=>{a.keyCode==27&&l()},d=()=>l();return t.$$set=a=>{"$$scope"in a&&n(3,o=a.$$scope)},[l,i,s,o,r,c,d]}class Oo extends Ge{constructor(e){super(),Ze(this,e,To,bo,He,{show:2,hide:0})}get show(){return this.$$.ctx[2]}get hide(){return this.$$.ctx[0]}}function Io(t){let e,n,r,o,i,s,l,c,d,a,h,g,p,E,m,v,w,y,b,L,P,R,Z,C,k,A,M,ne,S,H,G,X,K;return{c(){e=O("h2"),n=$("Welcome to The Sugar Shortage"),r=V(),o=O("div"),i=O("p"),s=$("You are visiting a sugar beet farm to help figure out why all the beet plants are dying!"),l=V(),c=O("p"),d=$("Your first task is to make sure all the plants are watered."),a=V(),h=O("p"),g=$("Using the toolbox commands on the left, construct a program to move your character around the field and water the plants."),p=V(),E=O("br"),m=V(),v=O("p"),w=$("Press "),y=O("strong"),b=$("Play"),L=$(" to activate your program, and "),P=O("strong"),R=$("Reset"),Z=$(" to try again."),C=V(),k=O("br"),A=V(),M=O("p"),ne=$("When all the plants are watered, you can move on to the next level!"),S=V(),H=O("button"),G=$("Close"),this.h()},l(T){e=I(T,"H2",{style:!0});var N=D(e);n=F(N,"Welcome to The Sugar Shortage"),N.forEach(_),r=B(T),o=I(T,"DIV",{class:!0});var x=D(o);i=I(x,"P",{});var fe=D(i);s=F(fe,"You are visiting a sugar beet farm to help figure out why all the beet plants are dying!"),fe.forEach(_),l=B(x),c=I(x,"P",{});var we=D(c);d=F(we,"Your first task is to make sure all the plants are watered."),we.forEach(_),a=B(x),h=I(x,"P",{});var _e=D(h);g=F(_e,"Using the toolbox commands on the left, construct a program to move your character around the field and water the plants."),_e.forEach(_),p=B(x),E=I(x,"BR",{}),m=B(x),v=I(x,"P",{});var ae=D(v);w=F(ae,"Press "),y=I(ae,"STRONG",{});var Te=D(y);b=F(Te,"Play"),Te.forEach(_),L=F(ae," to activate your program, and "),P=I(ae,"STRONG",{});var ze=D(P);R=F(ze,"Reset"),ze.forEach(_),Z=F(ae," to try again."),ae.forEach(_),C=B(x),k=I(x,"BR",{}),A=B(x),M=I(x,"P",{});var Ee=D(M);ne=F(Ee,"When all the plants are watered, you can move on to the next level!"),Ee.forEach(_),x.forEach(_),S=B(T),H=I(T,"BUTTON",{class:!0});var J=D(H);G=F(J,"Close"),J.forEach(_),this.h()},h(){de(e,"margin-bottom","0.1em"),u(o,"class","ModalText svelte-1ibnz8g"),u(H,"class","modalButton svelte-1ibnz8g")},m(T,N){oe(T,e,N),f(e,n),oe(T,r,N),oe(T,o,N),f(o,i),f(i,s),f(o,l),f(o,c),f(c,d),f(o,a),f(o,h),f(h,g),f(o,p),f(o,E),f(o,m),f(o,v),f(v,w),f(v,y),f(y,b),f(v,L),f(v,P),f(P,R),f(v,Z),f(o,C),f(o,k),f(o,A),f(o,M),f(M,ne),oe(T,S,N),oe(T,H,N),f(H,G),X||(K=se(H,"click",t[4]),X=!0)},p:ke,d(T){T&&_(e),T&&_(r),T&&_(o),T&&_(S),T&&_(H),X=!1,K()}}}function Ao(t){let e,n,r,o,i,s,l,c,d,a,h,g,p,E,m,v,w,y="0",b,L,P,R="1",Z,C,k,A,M,ne,S;o=new Eo({}),s=new yo({});let H={$$slots:{default:[Io]},$$scope:{ctx:t}};return c=new Oo({props:H}),t[5](c),{c(){e=O("main"),n=O("div"),r=O("div"),Ye(o.$$.fragment),i=V(),Ye(s.$$.fragment),l=V(),Ye(c.$$.fragment),d=V(),a=O("div"),h=O("button"),g=$("Show instructions"),p=V(),E=O("div"),m=$(`Level
    
          `),v=O("select"),w=O("option"),b=$(y),L=V(),P=O("option"),Z=$(R),C=V(),k=O("div"),A=$(t[2]),this.h()},l(G){e=I(G,"MAIN",{class:!0});var X=D(e);n=I(X,"DIV",{class:!0});var K=D(n);r=I(K,"DIV",{class:!0});var T=D(r);qe(o.$$.fragment,T),i=B(T),qe(s.$$.fragment,T),T.forEach(_),l=B(K),qe(c.$$.fragment,K),d=B(K),a=I(K,"DIV",{class:!0});var N=D(a);h=I(N,"BUTTON",{class:!0});var x=D(h);g=F(x,"Show instructions"),x.forEach(_),p=B(N),E=I(N,"DIV",{class:!0});var fe=D(E);m=F(fe,`Level
    
          `),v=I(fe,"SELECT",{class:!0});var we=D(v);w=I(we,"OPTION",{});var _e=D(w);b=F(_e,y),L=B(_e),_e.forEach(_),P=I(we,"OPTION",{});var ae=D(P);Z=F(ae,R),ae.forEach(_),we.forEach(_),fe.forEach(_),C=B(N),k=I(N,"DIV",{class:!0});var Te=D(k);A=F(Te,t[2]),Te.forEach(_),N.forEach(_),K.forEach(_),X.forEach(_),this.h()},h(){u(r,"class","wrap svelte-1ibnz8g"),u(h,"class","svelte-1ibnz8g"),w.__value="0",w.value=w.__value,P.__value="1",P.value=P.__value,u(v,"class","levelSelect"),t[1]===void 0&&vn(()=>t[7].call(v)),u(E,"class","levelMessage svelte-1ibnz8g"),u(k,"class","feedback svelte-1ibnz8g"),u(a,"class","footerWrap svelte-1ibnz8g"),u(n,"class","wrapElements svelte-1ibnz8g"),u(e,"class","svelte-1ibnz8g")},m(G,X){oe(G,e,X),f(e,n),f(n,r),je(o,r,null),f(r,i),je(s,r,null),f(n,l),je(c,n,null),f(n,d),f(n,a),f(a,h),f(h,g),f(a,p),f(a,E),f(E,m),f(E,v),f(v,w),f(w,b),f(w,L),f(v,P),f(P,Z),it(v,t[1],!0),f(a,C),f(a,k),f(k,A),M=!0,ne||(S=[se(h,"click",t[6]),se(v,"change",t[7]),se(v,"change",t[3])],ne=!0)},p(G,[X]){const K={};X&513&&(K.$$scope={dirty:X,ctx:G}),c.$set(K),X&2&&it(v,G[1]),(!M||X&4)&&xt(A,G[2])},i(G){M||(De(o.$$.fragment,G),De(s.$$.fragment,G),De(c.$$.fragment,G),M=!0)},o(G){be(o.$$.fragment,G),be(s.$$.fragment,G),be(c.$$.fragment,G),M=!1},d(G){G&&_(e),Xe(o),Xe(s),t[5](null),Xe(c),ne=!1,gt(S)}}}function Co(t,e,n){let r,o=0;Qe.subscribe(h=>{n(1,o=h)});let i="";qn.subscribe(h=>{n(2,i=h)});function s(){Qe.update(h=>o)}const l=()=>r.hide();function c(h){nr[h?"unshift":"push"](()=>{r=h,n(0,r)})}const d=()=>r.show();function a(){o=yn(this),n(1,o)}return[r,o,i,s,l,c,d,a]}class Lo extends Ge{constructor(e){super(),Ze(this,e,Co,Ao,He,{})}}export{Lo as component};
